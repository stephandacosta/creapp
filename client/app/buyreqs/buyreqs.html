
<md-sidenav ng-if="'userreqs' | isState" class="md-sidenav-left md-whiteframe-4dp" md-component-id="left" style="z-index:2000;">
  <md-toolbar class="md-theme-light md-hue-1" layout="row">
    <h1 class="md-toolbar-tools">Your Broker</h1>
    <span flex></span>
    <md-button ng-click="toggleProfile()" class="md-primary md-hue-2">
      <md-icon>close</md-icon>
    </md-button>
  </md-toolbar>
  <md-content layout-padding>
    <profile user="broker"></profile>
  </md-content>
</md-sidenav>

<req-filter hide-xs></req-filter>

<div flex layout="row" layout-xs="column" style="height:90vh;" >

  <!-- list of buyreqs -->
  <div flex-gt-sm="33" flex layout="column">
    <md-toolbar class="md-primary md-hue-2" layout="row" md-scroll-shrink>
      <div ng-if="!search.reqID" class="md-toolbar-tools">
        <md-button aria-label="filter" class="md-fab md-primary md-hue-3 md-mini md-ink-ripple" ng-click="openfilter()">
          <md-tooltip md-direction="right">Filter</md-tooltip>
          <md-icon>filter_list</md-icon>
        </md-button>
        <span flex></span>
        <span>{{buyreqs.length}} reqs filtered from {{filteredReqs.length}}</span>
      </div>
      <div ng-if="search.reqID" class="md-toolbar-tools" layout="row" layout-align="end center">
        <md-button ng-click="toggle(search.reqID)">close</md-button>
      </div>
    </md-toolbar>
    <req-filter hide-gt-xs flex="80" ng-show="showfilter"></req-filter>
    <md-content>
      <req-list></req-list>
      <req-details req="selected" ng-if="search.reqID"></req-details>
    </md-content>
  </div>


  <!-- map -->
  <div flex flex-xs="45" layout="row">

    <div layout="column" class="sidetoolbar" style="z-index:1000;">
      <md-button class="md-fab md-mini md-accent" ng-click="zoomIn()">
        <md-tooltip md-direction="right">zoom in</md-tooltip>
        <md-icon>zoom_in</md-icon>
      </md-button>
      <md-button class="md-fab md-mini md-accent" ng-click="zoomOut()">
        <md-tooltip md-direction="right">zoom out</md-tooltip>
        <md-icon>zoom_out</md-icon>
      </md-button>
      <md-button class="md-fab md-mini md-primary md-hue-1" ng-click="toggleProfile()" ng-if="'userreqs' | isState">
        <md-tooltip md-direction="right">your broker</md-tooltip>
        <md-icon>face</md-icon>
      </md-button>
    </div>

    <req-map flex></req-map>

  </div>

</div>
